'''
curl -X POST 'http://127.0.0.1:8000/openai/invoke' \
-H 'Content-Type: application/json' \
-d '{"input":[{"type": "human", "content": "hello"}]}'
'''

'''
{"output":{"content":"Hello! How can I assist you today?","additional_kwargs":{"refusal":null},"response_metadata":{"token_usage":{"completion_tokens":9,"prompt_tokens":8,"total_tokens":17},"model_name":"gpt-4o-2024-05-13","system_fingerprint":"fp_3aa7262c27","finish_reason":"stop","logprobs":null},"type":"ai","name":null,"id":"run-853258b4-ca64-4e66-a98a-af6011a84944-0","example":false,"tool_calls":[],"invalid_tool_calls":[],"usage_metadata":{"input_tokens":8,"output_tokens":9,"total_tokens":17}},"metadata":{"run_id":"853258b4-ca64-4e66-a98a-af6011a84944","feedback_tokens":[]}}%  
'''


''' streaming output
curl -X POST 'http://127.0.0.1:8000/openai/stream' \
-H 'Content-Type: application/json' \
-d '{"input":[{"type": "human", "content": "hello"}]}'
'''


'''
curl -X POST 'http://127.0.0.1:8000/graph/invoke' \
-H 'Content-Type: application/json' \
-d '{"input":{"messages": [["user", "今日の渋谷の天気を教えて"]]}}'
'''

'''
{"output":{"messages":[{"content":"今日の渋谷の天気を教えて","additional_kwargs":{},"response_metadata":{},"type":"human","name":null,"id":"8d085621-5902-4821-913d-feeafa5117b9","example":false},{"content":"","additional_kwargs":{"tool_calls":[{"id":"call_nVDnFPlIv9NJjCrhOW8V3oG7","function":{"arguments":"{\"query\":\"渋谷 天気 2023年10月\"}","name":"tavily_search_results_json"},"type":"function"}],"refusal":null},"response_metadata":{"token_usage":{"completion_tokens":28,"prompt_tokens":90,"total_tokens":118},"model_name":"gpt-4o-2024-05-13","system_fingerprint":"fp_3aa7262c27","finish_reason":"tool_calls","logprobs":null},"type":"ai","name":null,"id":"run-e216a96e-cc96-4415-954d-fbec0c7b13d0-0","example":false,"tool_calls":[{"name":"tavily_search_results_json","args":{"query":"渋谷 天気 2023年10月"},"id":"call_nVDnFPlIv9NJjCrhOW8V3oG7","type":"tool_call"}],"invalid_tool_calls":[],"usage_metadata":{"input_tokens":90,"output_tokens":28,"total_tokens":118}},{"content":"[{\"url\": \"https://weather-log.jp/tokyo/2023/10\", \"content\": \"2023\\u5e74; \\u6771\\u4eac\\u306e2023\\u5e7410\\u6708\\u306e\\u5929\\u6c17\\u30fb\\u6c17\\u6e29 ... 2023\\u5e7410\\u6708\\u306e\\u5e73\\u5747\\u6c17\\u6e29\\u306f18.88\\u00b0c\\u3001\\u6700\\u9ad8\\u6c17\\u6e2929.9\\u00b0c\\u3001\\u6700\\u4f4e\\u6c17\\u6e2911.4\\u00b0c\\u3067\\u3057\\u305f\\u3002\"}, {\"url\": \"https://weather.com/ja-JP/weather/monthly/l/30948cc6367cf0be3a6fe930192effe05307d786c2eca055dc4b997082e7c89c\", \"content\": \"\\u6e0b\\u8c37\\u533a, \\u6771\\u4eac\\u90fd \\u306e\\u5929\\u6c17. 18. \\u4eca\\u65e5. 1\\u6642\\u9593\\u3054\\u3068 ... \\u30ab\\u30ec\\u30f3\\u30c0\\u30fc\\u5e74 ... 10\\u6708: 21 \\u00b0: 14 \\u00b0: 165.10 ...\"}]","additional_kwargs":{},"response_metadata":{},"type":"tool","name":"tavily_search_results_json","id":"966cb13b-d188-4156-b96e-f9cb3a4d4e19","tool_call_id":"call_nVDnFPlIv9NJjCrhOW8V3oG7","artifact":{"query":"渋谷 天気 2023年10月","follow_up_questions":null,"answer":null,"images":[],"results":[{"title":"東京の2023年10月の天気・気温:天気ログ","url":"https://weather-log.jp/tokyo/2023/10","content":"2023年; 東京の2023年10月の天気・気温 ... 2023年10月の平均気温は18.88°c、最高気温29.9°c、最低気温11.4°cでした。","score":0.99822474,"raw_content":null},{"title":"渋谷区, 東京都の月間天気予報 - weather.com","url":"https://weather.com/ja-JP/weather/monthly/l/30948cc6367cf0be3a6fe930192effe05307d786c2eca055dc4b997082e7c89c","content":"渋谷区, 東京都 の天気. 18. 今日. 1時間ごと ... カレンダー年 ... 10月: 21 °: 14 °: 165.10 ...","score":0.9979332,"raw_content":null}],"response_time":1.98},"status":"success"},{"content":"今日の渋谷の天気について、詳細な情報を以下のリンクで確認できます：\n\n1. [Weather-log.jp](https://weather-log.jp/tokyo/2023/10)\n2. [Weather.com](https://weather.com/ja-JP/weather/monthly/l/30948cc6367cf0be3a6fe930192effe05307d786c2eca055dc4b997082e7c89c)\n\nこれらのサイトで今日の天気や気温の詳細を確認してください。","additional_kwargs":{"refusal":null},"response_metadata":{"token_usage":{"completion_tokens":115,"prompt_tokens":480,"total_tokens":595},"model_name":"gpt-4o-2024-05-13","system_fingerprint":"fp_3aa7262c27","finish_reason":"stop","logprobs":null},"type":"ai","name":null,"id":"run-25a4473d-ffef-452c-a1b5-23c6f4640c1b-0","example":false,"tool_calls":[],"invalid_tool_calls":[],"usage_metadata":{"input_tokens":480,"output_tokens":115,"total_tokens":595}}]},"metadata":{"run_id":"caaf63f6-f321-4bfa-bfdf-a8d89e73aca7","feedback_tokens":[]}}'''


'''{"output":{"messages":[{"content":"今日の渋谷の天気を教えて","additional_kwargs":{},"response_metadata":{},"type":"human","name":null,"id":"5d24a13b-5ba2-4f1a-83b8-50205522cdd7","example":false},{"content":"","additional_kwargs":{"tool_calls":[{"id":"call_d1a9uegZgIoURCAzsq01GkU8","function":{"arguments":"{\"query\":\"渋谷 天気 今日\"}","name":"tavily_search_results_json"},"type":"function"}],"refusal":null},"response_metadata":{"token_usage":{"completion_tokens":23,"prompt_tokens":90,"total_tokens":113},"model_name":"gpt-4o-2024-05-13","system_fingerprint":"fp_3aa7262c27","finish_reason":"tool_calls","logprobs":null},"type":"ai","name":null,"id":"run-8130a2e9-7f9e-4973-b6a2-df612ece6133-0","example":false,"tool_calls":[{"name":"tavily_search_results_json","args":{"query":"渋谷 天気 今日"},"id":"call_d1a9uegZgIoURCAzsq01GkU8","type":"tool_call"}],"invalid_tool_calls":[],"usage_metadata":{"input_tokens":90,"output_tokens":23,"total_tokens":113}},{"content":"[{\"url\": \"https://weather.yahoo.co.jp/weather/jp/13/4410/13113.html\", \"content\": \"\\u6e0b\\u8c37\\u533a\\u306e\\u5929\\u6c17\\u4e88\\u5831\\u30023\\u6642\\u9593\\u3054\\u3068\\u306e\\u5929\\u6c17\\u3001\\u964d\\u6c34\\u91cf\\u3001\\u6c17\\u6e29\\u306a\\u3069\\u304c\\u30c1\\u30a7\\u30c3\\u30af\\u3067\\u304d\\u307e\\u3059\\u3002 ... \\u7d30\\u304b\\u3044\\u5730\\u70b9\\u5358\\u4f4d\\u306e\\u5929\\u6c17\\u3092\\u77e5\\u308b\\u306b\\u306f\\u6700\\u9069\\u3067\\u3059\\u3002 \\u6e0b\\u8c37\\u533a\\u306e\\u5929\\u6c17\\u4e88\\u5831\\u30023\\u6642\\u9593\\u3054\\u3068\\u306e\\u5929\\u6c17\\u3001\\u964d\\u6c34\\u91cf\\u3001\\u6c17\\u6e29\\u306a\\u3069\\u304c\\u30c1\\u30a7\\u30c3\\u30af\\u3067\\u304d\\u307e\\u3059\\u3002 ... \\u4eca\\u65e5\\u306e\\u5929\\u6c17 - 8\\u670816\\u65e5 \\u91d1) \\u6642\\u523b: 0\\u6642 ...\"}, {\"url\": \"https://www.nhk.or.jp/kishou-saigai/city/weather/13113001311300/\", \"content\": \"\\u3010\\u6e0b\\u8c37\\u533a(\\u6771\\u4eac\\u90fd)\\u3011\\u306e\\u6700\\u65b0\\u5929\\u6c17\\u4e88\\u5831\\u3002\\u964d\\u6c34\\u78ba\\u7387\\u3084\\u4eca\\u65e51\\u6642\\u9593\\u3054\\u3068\\u306e\\u4e88\\u5831\\u300110\\u65e5\\u9593\\u306e\\u5929\\u6c17\\u3001\\u6700\\u9ad8\\u30fb\\u6700\\u4f4e\\u6c17\\u6e29\\u3001\\u96e8\\u96f2\\u306e\\u4e88\\u60f3\\u307e\\u3067\\u3002\\u3069\\u3093\\u306a\\u670d\\u88c5\\u306b\\u3059\\u3079\\u304d\\u304b ...\"}]","additional_kwargs":{},"response_metadata":{},"type":"tool","name":"tavily_search_results_json","id":"cc178fdd-c19a-4755-9902-865d1c738875","tool_call_id":"call_d1a9uegZgIoURCAzsq01GkU8","artifact":{"query":"渋谷 天気 今日","follow_up_questions":null,"answer":null,"images":[],"results":[{"title":"渋谷区の天気 - Yahoo!天気・災害","url":"https://weather.yahoo.co.jp/weather/jp/13/4410/13113.html","content":"渋谷区の天気予報。3時間ごとの天気、降水量、気温などがチェックできます。 ... 細かい地点単位の天気を知るには最適です。 渋谷区の天気予報。3時間ごとの天気、降水量、気温などがチェックできます。 ... 今日の天気 - 8月16日 金) 時刻: 0時 ...","score":0.9996444,"raw_content":null},{"title":"渋谷区｜天気予報[1時間毎]今日・明日・明後日の天気｜NHK","url":"https://www.nhk.or.jp/kishou-saigai/city/weather/13113001311300/","content":"【渋谷区(東京都)】の最新天気予報。降水確率や今日1時間ごとの予報、10日間の天気、最高・最低気温、雨雲の予想まで。どんな服装にすべきか ...","score":0.9950946,"raw_content":null}],"response_time":2.39},"status":"success"},{"content":"今日の渋谷の天気についての情報は以下のリンクから確認できます：\n\n1. [Yahoo!天気](https://weather.yahoo.co.jp/weather/jp/13/4410/13113.html) - 3時間ごとの天気や降水量、気温などの詳細情報が確認できます。\n2. [NHK天気予報](https://www.nhk.or.jp/kishou-saigai/city/weather/13113001311300/) - 降水確率や1時間ごとの予報、10日間の天気、最高・最低気温などが確認できます。\n\nこれらのリンクを参照して、最新の天気情報を確認してください。","additional_kwargs":{"refusal":null},"response_metadata":{"token_usage":{"completion_tokens":152,"prompt_tokens":753,"total_tokens":905},"model_name":"gpt-4o-2024-05-13","system_fingerprint":"fp_3aa7262c27","finish_reason":"stop","logprobs":null},"type":"ai","name":null,"id":"run-a7bfd9c4-44df-4245-997c-0c255f2041b1-0","example":false,"tool_calls":[],"invalid_tool_calls":[],"usage_metadata":{"input_tokens":753,"output_tokens":152,"total_tokens":905}}]},"metadata":{"run_id":"9d1b412f-7700-4ce8-a922-b656fe269be2","feedback_tokens":[]}}% '''
